{% extends 'base.html' %}
{% load static %}

{% block title %}Aorbo Treks{% endblock %}

{% block content %}

{# ============ 1. HERO SECTION WITH FULL-SCREEN CAROUSEL ============ #}
<section class="hero-landing p-0">

    <div id="heroCarousel" class="carousel slide hero-carousel" data-bs-ride="carousel" data-bs-interval="4000">
        <div class="carousel-inner">

            <div class="carousel-item active">
                <img src="{% static 'images/hero_1.webp' %}" class="d-block w-100 hero-img"
                    alt="Ayodhya + Varanasi + Mathura">
            </div>

            <div class="carousel-item">
                <img src="{% static 'images/hero_2.webp' %}" class="d-block w-100 hero-img" alt="Badrinath">
            </div>

            <div class="carousel-item">
                <img src="{% static 'images/hero_3.webp' %}" class="d-block w-100 hero-img" alt="Coorg">
            </div>

        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
            <span class="visually-hidden">Previous</span>
        </button>

        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <div class="hero-overlay-content">
        <div class="text-center">
            <div class="hero-badge mb-3">AORBO TREKS</div>
            <h1 class="hero-heading mb-3">Discover Your Adventure</h1>
            <p class="hero-subtitle mb-4">
                Search for your next trek or destination and start planning an unforgettable experience.
            </p>

            {# üîé SEARCH WITH DROPDOWN SUGGESTIONS #}
            <form class="hero-search-form" method="get" action="{% url 'search_trek' %}">
                <div class="hero-search-wrapper">
                    <input type="text" name="q" id="hero-search-input" class="hero-search-input"
                        placeholder="Search for a destination or trek..." autocomplete="off">
                    <button type="submit" class="hero-search-button" aria-label="Search">
                        <svg xmlns="http://www.w3.org/2000/svg" class="hero-search-icon" viewBox="0 0 24 24">
                            <path
                                d="M10 4a6 6 0 0 1 4.8 9.6l3.8 3.8a1 1 0 0 1-1.4 1.4l-3.8-3.8A6 6 0 1 1 10 4zm0 2a4 4 0 1 0 0 8 4 4 0 0 0 0-8z" />
                        </svg>
                    </button>

                    <div id="search-suggestions" class="search-suggestions"></div>
                </div>
            </form>

        </div>
    </div>

</section>

<section class="py-5 secondbg" id="featured-destinations">
    <div class="container">

        <h2 class="text-center fw-bold mb-2">Featured Destinations</h2>

        {% if selected_tag %}
        <p class="text-center text-muted mb-4">
            Showing results for
            <span class="fw-semibold text-dark">{{ selected_tag|title }}</span>
            <a href="{% url 'home' %}#featured-destinations" class="ms-2 small">
                Reset
            </a>
        </p>
        {% else %}
        <p class="text-center text-muted mb-4">
            Explore our most loved treks and travel circuits across India.
        </p>
        {% endif %}
        <div class="row g-4" id="featured-trek-grid">
            {% for trek in featured_treks %}
            <div
                class="col-12 col-sm-6 col-md-4 col-lg-3 {% if forloop.counter > 8 %}d-none extra-trek-card{% endif %}">

                <a href="{% url 'card_trek_detail' trek.id %}"
                    class="premium-card h-100 w-100 rounded-4 overflow-hidden text-decoration-none text-dark d-block">

                    <!-- IMAGE -->
                    <div class="trek-card-image-wrapper ratio ratio-4x3">
                        <div class="image-inner">
                            {% with trek.images.first as img %}
                            {% if img and img.image_url %}
                            <img src="{{ img.image_url }}" alt="{{ trek.name }}" loading="lazy">
                            <div class="price-pill">
                            <div class="price-onwards">
                                Onwards*
                            </div>
                            <div class="price-value">
                                ‚Çπ{{ trek.price_start }}
                            </div>
                        </div>

                            {% endif %}
                            {% endwith %}
                        </div>
                    </div>
                    
                    <!-- CONTENT -->
                    <div class="p-3 card-content">

                        <!-- TOP CONTENT -->
                        <div>
                            <h5 class="fw-bold mb-1">{{ trek.name | title }}</h5>

                            <p class="small mb-2 location-text">
                                üìç {{ trek.state }}
                            </p>

                            <p class="small mb-1 days">
    {% if trek.duration_list %}
        <strong>Duration:</strong>
        {{ trek.duration_list.0 }}
        {% if trek.duration_list|length > 1 %}
            ...
        {% endif %}
    {% endif %}
</p>

                            <p class="small mb-2 days">
                                <strong>Departure:</strong> {{ trek.operating_days | upper }}
                            </p>
                        </div>

                        <!-- BOTTOM OPERATORS -->
                        {% if trek.operators.exists %}
                        <div class="operator-grid-wrapper border-top pt-2 mt-2">
                            <div class="d-flex justify-content-center">
                                {% for operator in trek.operators.all|slice:":3" %}
                                <span class="operator-badge-premium">{{ operator }}</span>
                                {% endfor %}
                                {% if trek.operators.count > 3 %}
                                <span class="operator-badge-premium">
                                    +{{ trek.operators.count|add:"-3" }}
                                </span>
                                {% endif %}
                            </div>
                        </div>
                        {% endif %}

                    </div>
                </a>

            </div>
            {% endfor %}
        </div>

        {% if page_obj.paginator.num_pages > 1 %}
        <nav class="mt-5">
        <ul class="pagination justify-content-center align-items-center">

            <!-- PREVIOUS -->
            <li class="page-item {% if not page_obj.has_previous %}disabled{% endif %}">
            {% if page_obj.has_previous %}
                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">‚Äπ</a>
            {% else %}
                <span class="page-link">‚Äπ</span>
            {% endif %}
            </li>

            <!-- SMALL SCREENS -->
            <li class="page-item d-sm-none active">
            <span class="page-link">{{ page_obj.number }}</span>
            </li>

            <!-- LARGE SCREENS -->
            {% if page_obj.number > 2 %}
            <li class="page-item d-none d-sm-inline">
                <a class="page-link" href="?page=1">1</a>
            </li>
            {% endif %}

            {% if page_obj.number > 3 %}
            <li class="page-item disabled d-none d-sm-inline">
                <span class="page-link">‚Ä¶</span>
            </li>
            {% endif %}

            {% for i in page_obj.paginator.page_range %}
            {% if i >= page_obj.number|add:"-1" and i <= page_obj.number|add:"1" %}
                <li class="page-item d-none d-sm-inline {% if page_obj.number == i %}active{% endif %}">
                <a class="page-link" href="?page={{ i }}">{{ i }}</a>
                </li>
            {% endif %}
            {% endfor %}

            {% if page_obj.number < page_obj.paginator.num_pages|add:"-2" %}
            <li class="page-item disabled d-none d-sm-inline">
                <span class="page-link">‚Ä¶</span>
            </li>
            {% endif %}

            {% if page_obj.number < page_obj.paginator.num_pages|add:"-1" %}
            <li class="page-item d-none d-sm-inline">
                <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">
                {{ page_obj.paginator.num_pages }}
                </a>
            </li>
            {% endif %}

            <!-- NEXT -->
            <li class="page-item {% if not page_obj.has_next %}disabled{% endif %}">
            {% if page_obj.has_next %}
                <a class="page-link" href="?page={{ page_obj.next_page_number }}">‚Ä∫</a>
            {% else %}
                <span class="page-link">‚Ä∫</span>
            {% endif %}
            </li>

        </ul>

        {% comment %} <p class="text-center small text-muted mt-2">
            {{ page_obj.start_index }}‚Äì{{ page_obj.end_index }}
            of {{ page_obj.paginator.count }} items
        </p> {% endcomment %}
        </nav>
        {% endif %}


    </div>
</section>

{# ============ 3. TRAVEL YOUR WAY SECTION ============ #}
<section class="travel-your-way mt-1 py-5">
    <div class="container text-center">
        <h2 class="tyw-title mb-2">Travel Your Way</h2>
        <p class="tyw-subtitle mb-4">
            Whether you seek adventure, peace, or a quick weekend escape,
            find the journey that fits your style.
        </p>

        <div class="row g-4 justify-content-center mt-3">
            <div class="col-12 col-md-6 col-lg-4 d-flex">
                <a href="{% url 'travel_your_way' %}?tag=adventure" class="tyw-card-link w-100">
                    <div class="tyw-card ">
                        <div class="tyw-icon icon-adventure">‚õ∞Ô∏è</div>
                        <h3 class="tyw-card-title">Adventure Treks</h3>
                        <p class="tyw-card-text">
                            For thrill-seekers and explorers who crave a challenge.
                        </p>
                    </div>
                </a>
            </div>

            <div class="col-12 col-md-6 col-lg-4 d-flex">
                <a href="{% url 'travel_your_way' %}?tag=weekend" class="tyw-card-link w-100">
                    <div class="tyw-card">
                        <div class="tyw-icon icon-weekend">‚òÄÔ∏è</div>
                        <h3 class="tyw-card-title">Weekend Getaways</h3>
                        <p class="tyw-card-text">
                            Perfect short escapes to unwind and recharge.
                        </p>
                    </div>
                </a>
            </div>

            <div class="col-12 col-md-6 col-lg-4 d-flex">
                <a href="{% url 'travel_your_way' %}?tag=nature" class="tyw-card-link w-100">
                    <div class="tyw-card">
                        <div class="tyw-icon icon-nature">üå≤</div>
                        <h3 class="tyw-card-title">Nature Escapes</h3>
                        <p class="tyw-card-text">
                            Reconnect with nature through calm and scenic trails.
                        </p>
                    </div>
                </a>
            </div>

            <div class="col-12 col-md-6 col-lg-4 d-flex">
                <a href="{% url 'travel_your_way' %}?tag=beach" class="tyw-card-link w-100">
                    <div class="tyw-card">
                        <div class="tyw-icon icon-beach">üåä</div>
                        <h3 class="tyw-card-title">Beach Trails</h3>
                        <p class="tyw-card-text">
                            Walk along the coast, enjoy sunsets and feel the sea breeze.
                        </p>
                    </div>
                </a>
            </div>

            <div class="col-12 col-md-6 col-lg-4 d-flex">
                <a href="{% url 'travel_your_way' %}?tag=spiritual" class="tyw-card-link w-100">
                    <div class="tyw-card">
                        <div class="tyw-icon icon-spiritual">üíó</div>
                        <h3 class="tyw-card-title">Spiritual Journeys</h3>
                        <p class="tyw-card-text">
                            Find peace and purpose through sacred trails.
                        </p>
                    </div>
                </a>
            </div>

            <div class="col-12 col-md-6 col-lg-4 d-flex">
                <a href="{% url 'travel_your_way' %}?tag=camping" class="tyw-card-link w-100">
                    <div class="tyw-card">
                        <div class="tyw-icon icon-camping">üèïÔ∏è</div>
                        <h3 class="tyw-card-title">Camping &amp; Bonfire</h3>
                        <p class="tyw-card-text">
                            Experience starlit nights and warm bonfires in the wild.
                        </p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>


{# ============ 4. WHY TREK WITH AORBO TREKS SECTION ============ #}
<section class="why-trek py-5">
    <div class="container text-center">
        <h2 class="why-title mb-3">Why Trek With AORBO TREKS?</h2>
        <p class="why-subtitle mb-5">
            We're more than a platform; we are your trusted partner in adventure,
            committed to making every journey safe, seamless, and unforgettable.
        </p>

        <div class="row g-4 justify-content-center">
            <div class="col-12 col-md-6 col-lg-3 d-flex">
                <div class="why-card">
                    <div class="why-icon-circle icon-local">üéØ</div>
                    <h3 class="why-card-title">Tailored Experience</h3>
                    <p class="why-card-text">
                        Customize your trek according to your preferences and comfort level.
                    </p>
                </div>
            </div>

            <div class="col-12 col-md-6 col-lg-3 d-flex">
                <div class="why-card">
                    <div class="why-icon-circle icon-local">‚úî</div>
                    <h3 class="why-card-title">Verified Local Operators</h3>
                    <p class="why-card-text">
                        Every trek is led by trusted, certified local experts who ensure your safety
                        and provide an authentic experience.
                    </p>
                </div>
            </div>

            <div class="col-12 col-md-6 col-lg-3 d-flex">
                <div class="why-card">
                    <div class="why-icon-circle icon-variety">‚õ∞</div>
                    <h3 class="why-card-title">Unmatched Trek Variety</h3>
                    <p class="why-card-text">
                        From serene weekend getaways to challenging Himalayan expeditions, find the
                        perfect trail for your adventure style.
                    </p>
                </div>
            </div>

            <div class="col-12 col-md-6 col-lg-3 d-flex">
                <div class="why-card">
                    <div class="why-icon-circle icon-community">üë•</div>
                    <h3 class="why-card-title">Community &amp; Support</h3>
                    <p class="why-card-text">
                        Join a community of passionate adventurers with 24/7* support from a team
                        that lives and breathes the outdoors.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}


{% block extra_css %}
<style>
    @media (min-width: 1400px) {

        .container,
        .container-lg,
        .container-md,
        .container-sm,
        .container-xl,
        .container-xxl {
            max-width: 1440px;
        }
    }

    /* ===================================================================
    *** NOTE: IF OLD CARDS PERSIST, DELETE ANY CSS THAT TARGETS 
    GENERIC CLASSES LIKE .card OR .trek-card IN EXTERNAL FILES.
    ===================================================================
    */

    /* ============= HERO SECTION WITH FULL-SCREEN CAROUSEL ============= */
    .btn10 {
        background-color: #ff8103;

        opacity: 1;
        border-color: #da7b1b;
    }

    .btn10:hover {

        color: var(--bs-btn-hover-color);
        background-color: #e9681d;
        border-color: #f1f6f7;

    }

    .days {
        font-size: 13px !important;
    }

    .secondbg {
        background-color: #f1f6f7;
    }

    .hero-landing {
        position: relative;
        width: 100%;
        margin-bottom: 0;
    }

    .hero-carousel,
    .hero-carousel .carousel-inner,
    .hero-carousel .carousel-item {
        height: 100%;
    }

    .hero-carousel .hero-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* Overlay with centered content */
    .hero-overlay-content {
        position: absolute;
        inset: 0;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        background: linear-gradient(120deg,
                rgba(0, 0, 0, 0.55),
                rgba(0, 0, 0, 0.25),
                rgba(0, 0, 0, 0.65));
    }
    .hero-overlay-content {
    z-index: 10; 
    }

    .hero-search-wrapper {
    position: relative;
    z-index: 100; /* Above hero overlay */
    }



    /* Hero text & search */
    .hero-heading {
        font-size: clamp(2.4rem, 4vw, 3.4rem);
        font-weight: 700;
        color: #ffffff;
        letter-spacing: 0.02em;
    }

    .hero-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.35rem 0.9rem;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.18);
        backdrop-filter: blur(8px);
        color: #ffe067;
        font-weight: 600;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
    }

    .hero-subtitle {
        max-width: 620px;
        margin-left: auto;
        margin-right: auto;
        color: white !important;
        font-size: 1rem;
    }

    .hero-search-form {
        max-width: 720px;
        margin-left: auto;
        margin-right: auto;
    }

    /* search wrapper + dropdown */
    .hero-search-wrapper {
        position: relative;
        display: flex;
        align-items: stretch;
        background-color: #ffffff;
        border-radius: 999px;
        padding: 0.2rem;
        box-shadow: 0 18px 35px rgba(0, 0, 0, 0.35);
        overflow: visible;
        /* allow dropdown to show */
    }

    .hero-search-input {
        flex: 1;
        border: none;
        outline: none;
        padding: 0.95rem 1.5rem;
        font-size: 0.98rem;
        border-radius: 999px 0 0 999px;
    }

    .hero-search-input::placeholder {
        color: #9ca3af;
    }

    .hero-search-button {
        border: none;
        outline: none;
        border-radius: 999px;
        padding: 0 1.6rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #ff6a1a;
        cursor: pointer;
        transition: background 0.2s ease, transform 0.1s ease;
    }

    .hero-search-button:hover {
        background: #ff6a1a;
        transform: translateY(-1px);
    }

    .hero-search-icon {
        width: 1.4rem;
        height: 1.4rem;
        fill: #ffffff;
    }

    .search-suggestions {
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    right: 0;

    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 18px 40px rgba(15, 23, 42, 0.25);

    max-height: 280px;
    overflow-y: auto;

    z-index: 1000;   /* Reasonable z-index */
    display: none;
}


    /* each suggestion */
    .search-suggestion-item {
        padding: 0.55rem 1rem;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 2px;
        cursor: pointer;
        border-bottom: 1px solid #f3f4f6;
    }

    .search-suggestion-item:last-child {
        border-bottom: none;
    }

    .search-suggestion-main {
        font-size: 0.95rem;
        font-weight: 600;
        color: #111827;
    }

    .search-suggestion-secondary {
        font-size: 0.78rem;
        color: #6b7280;
    }

    /* hover + keyboard active state */
    .search-suggestion-item:hover,
    .search-suggestion-item.active {
        background: #fffbf5;
    }


    /* Mobile tweaks */
    @media (max-width: 767.98px) {

        .hero-carousel,
        .hero-carousel .carousel-inner,
        .hero-carousel .carousel-item {
            height: 80vh;
        }

        .hero-heading {
            font-size: 2.1rem;
        }

        .hero-search-wrapper {
            padding: 0.15rem;
        }

        .hero-search-button {
            padding: 0 1.2rem;
        }
    }


    /* ============= NEW PREMIUM CARD MODEL ============= */
    /* ================= FEATURED DESTINATION CARD ================= */
    /* ================= SHARED PREMIUM CARD (HOME + TAG) ================= */

    .premium-card {
        background: #ffffff;
        cursor: pointer;
        border: 1px solid #e5e7eb;
        border-radius: 16px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;

    }

    /* ===== FORCE SAME HEIGHT CARDS ===== */
    .premium-card {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    /* Image should not shrink */
    .trek-card-image-wrapper {
        flex-shrink: 0;
    }

    /* Content fills remaining height */
    .card-content {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    .premium-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
    }

    /* IMAGE */
    .trek-card-image-wrapper {
        position: relative;
        overflow: hidden;
        border-top-left-radius: 16px;
        border-top-right-radius: 16px;
    }

    .image-inner {
        position: absolute;
        inset: 0;
    }

    .image-inner img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .premium-card:hover img {
        transform: scale(1.08);
    }

    /* PRICE */
    .price-pill {
        position: absolute;
        bottom: 18px;
        right: 18px;
        background: linear-gradient(135deg, #ff7a18, #ff3d00);
        color: #fff;
        padding: 8px 16px;
        border-radius: 40px;
        font-size: 15px;
        font-weight: 700;
        box-shadow: 0 6px 16px rgba(0, 0, 0, .35);
        animation: floatPrice 3s ease-in-out infinite;
    }
.price-pill {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 2px;
}

.price-onwards {
    font-size: 8px;
    font-weight: 600;
    letter-spacing: 0.05em;
    opacity: 0.9;
}

.price-value {
    font-size: 15px;
    font-weight: 800;
    line-height: 1;
}

    @keyframes floatPrice {

        0%,
        100% {
            transform: translateY(0);
        }

        50% {
            transform: translateY(-6px);
        }
    }

    /* TEXT */
    .location-text {
        color: #4b5563;
        font-weight: 500;
    }

    .days {
        font-size: 13px;
        color: #374151;
    }

    /* OPERATORS */
    .operator-grid-wrapper .d-flex {
        flex-wrap: wrap;
        gap: 6px;
    }

    .operator-badge-premium {
        background-color: #f97316;
        color: #ffffff;
        font-size: 0.7rem;
        font-weight: 600;
        padding: 5px 12px;
        border-radius: 16px;
    }

    .operator-badge-premium:hover {
        background-color: #ea580c;
    }


    /* ============= END NEW PREMIUM CARD MODEL ============= */


    /* ============= TRAVEL YOUR WAY ============= */
    .travel-your-way {
        background-color: #f6f6f4;
    }

    .tyw-title {
        font-size: clamp(2rem, 3vw, 2.4rem);
        font-weight: 700;
        color: #111827;
    }

    .tyw-subtitle {
        max-width: 640px;
        margin-left: auto;
        margin-right: auto;
        font-size: 0.98rem;
        color: #4b5563;
    }

    .tyw-card-link {
        text-decoration: none;
        color: inherit;
        display: block;
    }

    .tyw-card {
        background-color: #ffffff;
        border-radius: 24px;
        padding: 1.75rem 1.5rem;
        box-shadow: 0 14px 30px rgba(15, 23, 42, 0.08);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        width: 100%;
        transition: transform 0.15s ease, box-shadow 0.15s ease, border 0.15s ease;
        border: 1px solid transparent;
    }

    .tyw-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 18px 40px rgba(15, 23, 42, 0.16);
    }

    .tyw-card-active {
        border-color: #ff6a1a;
        box-shadow: 0 18px 40px rgba(249, 115, 22, 0.35);
    }

    .tyw-card-title {
        font-size: 1.05rem;
        font-weight: 700;
        margin-bottom: 0.1rem;
        color: #111827;
    }

    .tyw-card-text {
        font-size: 0.9rem;
        margin: 0;
        color: #4b5563;
        text-align: center;
    }

    .tyw-icon {
        width: 40px;
        height: 40px;
        border-radius: 999px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        margin-bottom: 0.4rem;
    }

    .icon-adventure {
        background: #fff3e0;
        color: #f97316;
    }

    .icon-weekend {
        background: #fff9db;
        color: #fbbf24;
    }

    .icon-nature {
        background: #e8f9f0;
        color: #16a34a;
    }

    .icon-beach {
        background: #e0f2fe;
        color: #2563eb;
    }

    .icon-spiritual {
        background: #fde7f1;
        color: #ec4899;
    }

    .icon-camping {
        background: #fef3c7;
        color: #ea580c;
    }

    @media (max-width: 767.98px) {
        .tyw-card {
            align-items: center;
            text-align: center;
        }

        .tyw-card-text {
            text-align: center;
        }
    }

    /* ============= WHY TREK WITH AORBO ============= */
    .why-trek {
        background-color: #f3f6fb;
    }

    .why-title {
        font-size: clamp(2.1rem, 3.4vw, 2.7rem);
        font-weight: 700;
        color: #111827;
    }

    .why-subtitle {
        max-width: 720px;
        margin-left: auto;
        margin-right: auto;
        font-size: 0.98rem;
        color: #4b5563;
    }

    .why-card {
        background-color: #ffffff;
        border-radius: 24px;
        padding: 1.9rem 1.8rem;
        box-shadow: 0 18px 40px rgba(15, 23, 42, 0.12);
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 0.7rem;
        width: 100%;
    }

    .why-icon-circle {
        width: 52px;
        height: 52px;
        border-radius: 999px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.4rem;
        margin-bottom: 0.3rem;
        background: #ffe9cc;
        color: #f97316;
    }

    .why-card-title {
        font-size: 1.1rem;
        font-weight: 700;
        margin: 0;
        color: #111827;
    }

    .why-card-text {
        font-size: 0.9rem;
        margin: 0;
        color: #4b5563;
        text-align: left;
    }

    @media (max-width: 767.98px) {
        .why-card {
            align-items: center;
            text-align: center;
        }

        .why-card-text {
            text-align: center;
        }
    }

    /* ============= RELATED TREKS BADGE HOVER (card_details.html) ============= */
    .related-trek-badge,
    .badge.bg-light.text-dark.border {
        transition: background 0.25s, color 0.25s, border-color 0.25s;
        cursor: pointer;
    }

    .related-trek-badge:hover,
    .badge.bg-light.text-dark.border:hover {
        background: #ff6a1a !important;
        color: #ffffff !important;
        border-color: #ff6a1a !important;
    }

    .pagination .page-link {
    border-radius: 50%;
    margin: 0 4px;
    border: none;
    color: #374151;
    font-weight: 600;
}

.pagination .page-item.active .page-link {
    background: #ff6a1a;
    color: #fff;
}

.pagination .page-link:hover {
    background: #ffe4d1;
    color: #ff6a1a;
}
/* ================= MOBILE: SAME AS DESKTOP ================= */
@media (max-width: 576px) {

    /* Keep Bootstrap default container padding */
    .container {
        padding-left: 1rem;
        padding-right: 1rem;
    }

    /* Same grid spacing as desktop */
    .row.g-3 {
        --bs-gutter-x: 1rem;
        --bs-gutter-y: 1rem;
    }

    /* Keep same card shape */
    .premium-card {
        border-radius: 16px;
    }

    /* üî• SAME IMAGE RATIO AS DESKTOP */
    .trek-card-image-wrapper.ratio {
        --bs-aspect-ratio: 75%; /* 4:3 = EXACT desktop */
    }

    .trek-card-image-wrapper {
        border-radius: 16px 16px 0 0;
    }

    /* SAME price pill */
    .price-pill {
        padding: 8px 16px;
        font-size: 15px;
        bottom: 18px;
        right: 18px;
        border-radius: 40px;
    }

    .price-onwards {
        font-size: 8px;
    }

    /* SAME typography */
    .card-content h5 {
        font-size: 1.25rem;
        line-height: 1.2;
    }

    .location-text {
        font-size: 0.875rem;
    }

    .days {
        font-size: 0.875rem;
    }

    /* SAME padding */
    .card-content {
        padding: 1rem !important;
    }

    /* Optional: reduce hover zoom only */
    .premium-card:hover img {
        transform: scale(1.05);
    }
}
/* =========================================================
   0. RESET & BASE
   ========================================================= */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 100%;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  background: #f5f7f6;
  color: #111;
  line-height: 1.5;
}

/* =========================================================
   1. FULL-WIDTH CONTAINER (COVERS DESKTOP / TV EDGES)
   ========================================================= */

.container {
  width: 100%;
  max-width: 1600px;       /* covers big screens & TVs */
  margin-inline: auto;
  padding-inline: clamp(0.75rem, 3vw, 2rem);
}

/* =========================================================
   2. RESPONSIVE GRID (AUTO SCALE)
   ========================================================= */

.layout {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: clamp(0.75rem, 2vw, 1.25rem);
}

/* =========================================================
   3. CARD BASE (DESKTOP / TABLET DEFAULT)
   ========================================================= */

.card {
  background: #fff;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
  display: flex;
  flex-direction: column;
}

/* =========================================================
   4. CARD IMAGE (MAIN HEIGHT CONTROLLER)
   ========================================================= */

.card-image {
  width: 100%;
  height: 240px;           /* desktop default */
  object-fit: cover;
}

/* =========================================================
   5. CARD CONTENT
   ========================================================= */

.card-body {
  padding: 1rem;
}

.card-title {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 4px;
}

.card-meta {
  font-size: 14px;
  color: #555;
  margin-bottom: 8px;
}

/* =========================================================
   6. PRICE BADGE
   ========================================================= */

.price-badge {
  position: absolute;
  top: 14px;
  right: 14px;
  background: #ff7a00;
  color: #fff;
  font-size: 15px;
  padding: 8px 14px;
  border-radius: 999px;
  font-weight: 600;
}

/* =========================================================
   üì± 7. MOBILE FIX (ALL ANDROID + iOS)
   ========================================================= */

@media (max-width: 480px) {

  .layout {
    grid-template-columns: repeat(2, 1fr); /* fixed 2 cards */
    gap: 0.75rem;
  }

  .card {
    border-radius: 14px;
  }

  .card-image {
    height: 140px;         /* üî• fixed small mobile size */
  }

  .card-body {
    padding: 0.75rem;
  }

  .card-title {
    font-size: 15px;
  }

  .card-meta {
    font-size: 12px;
    line-height: 1.3;
  }

  .price-badge {
    font-size: 13px;
    padding: 6px 10px;
    top: 10px;
    right: 10px;
  }
}

/* =========================================================
   8. ULTRA-SMALL PHONES (OPTIONAL SAFETY)
   ========================================================= */

@media (max-width: 360px) {
  .card-image {
    height: 120px;
  }
}

</style>
{% endblock %}
{% block extra_js %}
<script src="{% static 'js/index.js' %}" defer></script>
{% endblock %}